; os interface wrappers

(: (read-all file cb)
   (if (zero? file)
     0
     ((: (sub acc)
         (-> file (: (f buf)
                     (if (zero? buf)
                       (cb acc)
                       (sub (str::add! acc buf))))))
      '')))
